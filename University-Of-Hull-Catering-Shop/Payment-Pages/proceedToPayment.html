<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Manrope&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/ionicons@5.0.0/dist/ionicons.min.css" rel="stylesheet">
    </link>
    <link href="../css/main.css" rel="stylesheet" type="text/css">

    <title>University Of Hull Catering Shop | Shopping Cart </title>
</head>

<body>

    <header>
        <div class="overlay">
            <nav>
                <h2>UNIVERSITY OF HULL CATERING SHOP</h2>
                <ul style="visibility: hidden;">
                    <li>
                        <a href="index.html">
                            <ion-icon name="home-outline"></ion-icon>
                            <span>Home</span>
                        </a></li>
                    <li>
                        <a href="about.html">
                            <ion-icon name="information-circle-outline"></ion-icon>
                            <span>About</span>
                        </a>
                    </li>
                    <li>
                        <a href="contact.html">
                            <ion-icon name="help-circle-outline"></ion-icon>
                            <span>Contact</span>
                        </a>
                    </li>
                    <li class="cart">
                        <a href="shoppingCart.html">
                            <ion-icon name="cart-outline"></ion-icon>
                            Cart (<span>0</span>)
                        </a>
                    </li>
                </ul>                
                <div style="border: 2px solid; border-color: white; padding: 5px">
                    <p>Hello, <span id="displayUsername"></span>!</p>
                    <hr />
                    <a onclick='logOut()' class='logoutButton'>Log Out</a>
                </div>
            </nav>
        </div>
    </header>
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <h1>Cart Summary</h1>
    <br />
    <div id="generateSummary">
        <table class="summary-container" style="width: 50%; float: left;">
            <div class="summary">
                <!-- populated with javascript -->
            </div>
        </table>

    </div>
    <div class="payment-container" id='payment-container'>

    </div>

    <table id="payment-buttons">
        <tr>
            <td>
                <button class="cartCheckoutButtons buttons" onclick="payedByCash()">
                    <h4>Pay At Collection</h4>
                </button></td>
            <td>
                <div id="paypal-button" style="width: 100%"></div>
            </td>

        </tr>
    </table>

    <!-- <p id="sendToPaypal">
        <p class="order-to-mail" id="Order-To-Mail">
            populated with javascript
        </p>
         <p class="summary-to-mail"  id="Summary-To-Mail">
         </p>
    </p> -->

    <script src="https://www.paypalobjects.com/api/checkout.js"></script>
    <script src="../js/app.js"></script>
    <script src="https://unpkg.com/ionicons@5.0.0/dist/ionicons.js"></script>
    <script>        
        let orderDone = localStorage.getItem('orderState');
        if (orderDone != 'Successful'){
            document.getElementById('payment-buttons').style.visibility = 'hidden';
            document.getElementById('payment-container').style.visibility = 'hidden';
            document.getElementById('generateSummary').innerHTML = `
                <center>
                    <h3>Your order has already been made.</h3>  
                    <h5>Please return to page confirmation page. </h5>  
                </center>
            `
        }
    </script>
</body>

</html>